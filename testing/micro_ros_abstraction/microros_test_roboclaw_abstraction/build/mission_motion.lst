ARM GAS  C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"mission_motion.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "rover/Mission/Src/mission_motion.c"
  20              		.section	.text.Mission_MoveToPosition,"ax",%progbits
  21              		.align	1
  22              		.global	Mission_MoveToPosition
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	Mission_MoveToPosition:
  28              	.LVL0:
  29              	.LFB137:
   1:rover/Mission/Src/mission_motion.c **** #include "roboclaw.h"
   2:rover/Mission/Src/mission_motion.c **** extern SERIAL_HandleTypeDef *hserial_uart2;
   3:rover/Mission/Src/mission_motion.c **** extern RoboClaw_HandleTypeDef hroboclaw_mc2;
   4:rover/Mission/Src/mission_motion.c **** static int32_t target_position1 = 0;
   5:rover/Mission/Src/mission_motion.c **** static int32_t target_position2 = 0;
   6:rover/Mission/Src/mission_motion.c **** static bool motion_active = false;
   7:rover/Mission/Src/mission_motion.c **** 
   8:rover/Mission/Src/mission_motion.c **** void Mission_MoveToPosition(int32_t position1,int32_t position2)
   9:rover/Mission/Src/mission_motion.c **** {
  30              		.loc 1 9 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 9 1 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40 0002 82B0     		sub	sp, sp, #8
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 16
  43 0004 0C46     		mov	r4, r1
  10:rover/Mission/Src/mission_motion.c ****     if (position1 < 0) position1 = 0;
  44              		.loc 1 10 5 is_stmt 1 view .LVU2
  45              		.loc 1 10 8 is_stmt 0 view .LVU3
  46 0006 0028     		cmp	r0, #0
  47              		.loc 1 10 8 view .LVU4
  48 0008 06DB     		blt	.L4
ARM GAS  C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s 			page 2


  11:rover/Mission/Src/mission_motion.c ****     if (position1 > 5290) position1 = 5290;
  49              		.loc 1 11 5 is_stmt 1 view .LVU5
  50              		.loc 1 11 8 is_stmt 0 view .LVU6
  51 000a 41F2AA43 		movw	r3, #5290
  52 000e 9842     		cmp	r0, r3
  53 0010 03DD     		ble	.L2
  54              		.loc 1 11 37 discriminator 1 view .LVU7
  55 0012 41F2AA40 		movw	r0, #5290
  56              	.LVL1:
  57              		.loc 1 11 37 discriminator 1 view .LVU8
  58 0016 00E0     		b	.L2
  59              	.LVL2:
  60              	.L4:
  10:rover/Mission/Src/mission_motion.c ****     if (position1 < 0) position1 = 0;
  61              		.loc 1 10 34 discriminator 1 view .LVU9
  62 0018 0020     		movs	r0, #0
  63              	.LVL3:
  64              	.L2:
  12:rover/Mission/Src/mission_motion.c **** 
  13:rover/Mission/Src/mission_motion.c ****     target_position1 = position1;
  65              		.loc 1 13 5 is_stmt 1 view .LVU10
  66              		.loc 1 13 22 is_stmt 0 view .LVU11
  67 001a 164B     		ldr	r3, .L9
  68 001c 1860     		str	r0, [r3]
  14:rover/Mission/Src/mission_motion.c ****     motion_active = true;
  69              		.loc 1 14 5 is_stmt 1 view .LVU12
  70              		.loc 1 14 19 is_stmt 0 view .LVU13
  71 001e 0123     		movs	r3, #1
  72 0020 154A     		ldr	r2, .L9+4
  73 0022 1370     		strb	r3, [r2]
  15:rover/Mission/Src/mission_motion.c **** 
  16:rover/Mission/Src/mission_motion.c ****     SpeedAccelDeccelPositionM2(
  74              		.loc 1 16 5 is_stmt 1 view .LVU14
  75 0024 0193     		str	r3, [sp, #4]
  76 0026 0090     		str	r0, [sp]
  77 0028 4FF47A73 		mov	r3, #1000
  78 002c 40F6B832 		movw	r2, #3000
  79 0030 4FF4FA61 		mov	r1, #2000
  80              	.LVL4:
  81              		.loc 1 16 5 is_stmt 0 view .LVU15
  82 0034 1148     		ldr	r0, .L9+8
  83              	.LVL5:
  84              		.loc 1 16 5 view .LVU16
  85 0036 FFF7FEFF 		bl	SpeedAccelDeccelPositionM2
  86              	.LVL6:
  17:rover/Mission/Src/mission_motion.c ****         &hroboclaw_mc2,
  18:rover/Mission/Src/mission_motion.c ****         2000, 3000, 1000,
  19:rover/Mission/Src/mission_motion.c ****         target_position1,
  20:rover/Mission/Src/mission_motion.c ****         1
  21:rover/Mission/Src/mission_motion.c ****     );
  22:rover/Mission/Src/mission_motion.c ****     if (position2 < 0) position2 = 0;
  87              		.loc 1 22 5 is_stmt 1 view .LVU17
  88              		.loc 1 22 8 is_stmt 0 view .LVU18
  89 003a 002C     		cmp	r4, #0
  90 003c 06DB     		blt	.L6
  23:rover/Mission/Src/mission_motion.c ****         if (position2 > 5290) position2 = 5290;
  91              		.loc 1 23 9 is_stmt 1 view .LVU19
ARM GAS  C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s 			page 3


  92              		.loc 1 23 12 is_stmt 0 view .LVU20
  93 003e 41F2AA43 		movw	r3, #5290
  94 0042 9C42     		cmp	r4, r3
  95 0044 03DD     		ble	.L3
  96              		.loc 1 23 41 discriminator 1 view .LVU21
  97 0046 41F2AA44 		movw	r4, #5290
  98              	.LVL7:
  99              		.loc 1 23 41 discriminator 1 view .LVU22
 100 004a 00E0     		b	.L3
 101              	.LVL8:
 102              	.L6:
  22:rover/Mission/Src/mission_motion.c ****         if (position2 > 5290) position2 = 5290;
 103              		.loc 1 22 34 discriminator 1 view .LVU23
 104 004c 0024     		movs	r4, #0
 105              	.LVL9:
 106              	.L3:
  24:rover/Mission/Src/mission_motion.c **** 
  25:rover/Mission/Src/mission_motion.c ****         target_position2 = position2;
 107              		.loc 1 25 9 is_stmt 1 view .LVU24
 108              		.loc 1 25 26 is_stmt 0 view .LVU25
 109 004e 0C4B     		ldr	r3, .L9+12
 110 0050 1C60     		str	r4, [r3]
  26:rover/Mission/Src/mission_motion.c ****         motion_active = true;
 111              		.loc 1 26 9 is_stmt 1 view .LVU26
 112              		.loc 1 26 23 is_stmt 0 view .LVU27
 113 0052 0123     		movs	r3, #1
 114 0054 084A     		ldr	r2, .L9+4
 115 0056 1370     		strb	r3, [r2]
  27:rover/Mission/Src/mission_motion.c **** 
  28:rover/Mission/Src/mission_motion.c ****         SpeedAccelDeccelPositionM1(
 116              		.loc 1 28 9 is_stmt 1 view .LVU28
 117 0058 0193     		str	r3, [sp, #4]
 118 005a 0094     		str	r4, [sp]
 119 005c 4FF47A73 		mov	r3, #1000
 120 0060 40F6B832 		movw	r2, #3000
 121 0064 4FF4FA61 		mov	r1, #2000
 122 0068 0448     		ldr	r0, .L9+8
 123 006a FFF7FEFF 		bl	SpeedAccelDeccelPositionM1
 124              	.LVL10:
  29:rover/Mission/Src/mission_motion.c ****             &hroboclaw_mc2,
  30:rover/Mission/Src/mission_motion.c ****             2000, 3000, 1000,
  31:rover/Mission/Src/mission_motion.c ****             target_position2,
  32:rover/Mission/Src/mission_motion.c ****             1
  33:rover/Mission/Src/mission_motion.c ****         );
  34:rover/Mission/Src/mission_motion.c **** }
 125              		.loc 1 34 1 is_stmt 0 view .LVU29
 126 006e 02B0     		add	sp, sp, #8
 127              	.LCFI2:
 128              		.cfi_def_cfa_offset 8
 129              		@ sp needed
 130 0070 10BD     		pop	{r4, pc}
 131              	.LVL11:
 132              	.L10:
 133              		.loc 1 34 1 view .LVU30
 134 0072 00BF     		.align	2
 135              	.L9:
 136 0074 00000000 		.word	target_position1
ARM GAS  C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s 			page 4


 137 0078 00000000 		.word	motion_active
 138 007c 00000000 		.word	hroboclaw_mc2
 139 0080 00000000 		.word	target_position2
 140              		.cfi_endproc
 141              	.LFE137:
 143              		.section	.text.Mission_Motion_Run,"ax",%progbits
 144              		.align	1
 145              		.global	Mission_Motion_Run
 146              		.syntax unified
 147              		.thumb
 148              		.thumb_func
 150              	Mission_Motion_Run:
 151              	.LFB138:
  35:rover/Mission/Src/mission_motion.c **** 
  36:rover/Mission/Src/mission_motion.c **** void Mission_Motion_Run(void)
  37:rover/Mission/Src/mission_motion.c **** {
 152              		.loc 1 37 1 is_stmt 1 view -0
 153              		.cfi_startproc
 154              		@ args = 0, pretend = 0, frame = 0
 155              		@ frame_needed = 0, uses_anonymous_args = 0
 156              		@ link register save eliminated.
  38:rover/Mission/Src/mission_motion.c ****     if (!motion_active) return;
 157              		.loc 1 38 5 view .LVU32
 158              		.loc 1 38 25 discriminator 1 view .LVU33
  39:rover/Mission/Src/mission_motion.c **** 
  40:rover/Mission/Src/mission_motion.c ****     // Optional: check encoder feedback here
  41:rover/Mission/Src/mission_motion.c ****     // If reached â†’ motion_active = false;
  42:rover/Mission/Src/mission_motion.c **** }
 159              		.loc 1 42 1 is_stmt 0 view .LVU34
 160 0000 7047     		bx	lr
 161              		.cfi_endproc
 162              	.LFE138:
 164              		.section	.bss.motion_active,"aw",%nobits
 167              	motion_active:
 168 0000 00       		.space	1
 169              		.section	.bss.target_position2,"aw",%nobits
 170              		.align	2
 173              	target_position2:
 174 0000 00000000 		.space	4
 175              		.section	.bss.target_position1,"aw",%nobits
 176              		.align	2
 179              	target_position1:
 180 0000 00000000 		.space	4
 181              		.text
 182              	.Letext0:
 183              		.file 2 "C:\\ST\\STM32CubeIDE_1.19.0\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltool
 184              		.file 3 "C:\\ST\\STM32CubeIDE_1.19.0\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltool
 185              		.file 4 "rover/ECAL/Inc/ringbuffer.h"
 186              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xc.h"
 187              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 188              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 189              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 190              		.file 9 "rover/ECAL/Inc/base_serial.h"
 191              		.file 10 "rover/ECAL/Inc/roboclaw.h"
ARM GAS  C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 mission_motion.c
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:21     .text.Mission_MoveToPosition:00000000 $t
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:27     .text.Mission_MoveToPosition:00000000 Mission_MoveToPosition
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:136    .text.Mission_MoveToPosition:00000074 $d
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:179    .bss.target_position1:00000000 target_position1
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:167    .bss.motion_active:00000000 motion_active
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:173    .bss.target_position2:00000000 target_position2
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:144    .text.Mission_Motion_Run:00000000 $t
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:150    .text.Mission_Motion_Run:00000000 Mission_Motion_Run
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:168    .bss.motion_active:00000000 $d
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:170    .bss.target_position2:00000000 $d
C:\Users\bavly\AppData\Local\Temp\ccB2c4US.s:176    .bss.target_position1:00000000 $d

UNDEFINED SYMBOLS
SpeedAccelDeccelPositionM2
SpeedAccelDeccelPositionM1
hroboclaw_mc2
